<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset='utf-8'>
    <meta name="description" content="Welcome to EdgeNet Project! : EdgeNet is a Kubernetes-based distributed edge cloud that anyone can participate in.">
    <link rel="stylesheet" type="text/css" media="screen" href="/assets/css/style.css?v=e4498cdc37c637142227a61161abc3b42f095f49">
  </head>
  <body>
    <!-- HEADER -->
    <div id="header_wrap" class="outer">
      <header class="inner">
      <a href="/">
        <h1 id="project_title">
          <img src=""/>
          <span>Welcome to EdgeNet Project!</span>
        </h1>
        <h2 id="project_tagline">
          EdgeNet is a Kubernetes-based distributed edge cloud that anyone can participate in.
        </h2>
      </a>
      </header>
    </div>
    <div id="navbar_wrap" class="outer">
      <nav class="inner">
        <ul>
  <li>
    <a href="/index.html">Home</a>
  </li>
  <li>
    <label class="" for="drop-2">Get started</label>
    <input id="drop-2" type="checkbox" >
    <ul>
      <li>
        <a href="/using_EdgeNet.html"
          class="">
          Use EdgeNet
        </a>
      </li>
      <li>
        <a href="/hello_world.html"
          class="">
          Hello, World Tutorial
        </a>
      </li>
      <li>
        <a href="/contributing_nodes.html"
          class="">
          Contribute nodes
        </a>
      </li>
      <li>
        <a href="/project_ideas.html"
          class="">
          Project ideas
        </a>
      </li>
    </ul>
  </li>
  <li>
    <label class="" for="drop-3">About</label>
    <input id="drop-3" type="checkbox" >
    <ul>
      <li>
        <a href="/status.html"
          class="">
          Status
        </a>
      </li>
      <li>
        <a href="/people.html"
          class="">
          People
        </a>
      </li>
      <li>
        <a href="/publications.html"
          class="">
          Publications
        </a>
      </li>
    </ul>
  </li>
  <li>
    <a href="/further_reading.html">Read more</a>
  </li>
  <li>
    <a href="https://sundewcluster.appspot.com/">Go to Portal</a>
  </li>
</ul>
      </nav>
    </div>
    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="" class="content inner">
        <h1 id="simple-hello-world-on-edgenet">Simple “Hello, World” on EdgeNet</h1>
<p>In this tutorial, we’re going to show you how to deploy a minimal
experiment across EdgeNet and use it.  This is a lighter version of
the standard “Hello, World”, tutorial; it’s designed so that all you need to do is download a
YAML file, then upload it to the Kubernetes dashboard on the headnode.</p>
<p>Though this is simpler than the original Hello, World tutorial, it is also ephemeral: we’re
providing the server to catch the Hellos, and this won’t always be up.</p>
<h2 id="what-you-will-do">What You Will Do</h2>
<p>You will deploy a standard image  to EdgeNet nodes around the
world, which will execute a simple shell command to curl a webserver
with your name (which you’ll pick) and the hostname.
You can then view your successful Hellos at the <a href="http://princeton.edge-net.io:5000/show_hellos">server</a> or on a
<a href="https://editor.engagelively.com/widgets/rick/merif-demo-hello-world">mapping page we’ve prepared</a>.</p>
<h2 id="technologies-you-will-use">Technologies You Will Use</h2>
<p>The technology that you will use is:</p>
<ol>
  <li><a href="https://kubernetes.io/">Kubernetes</a>, to deploy the containers to the EdgeNet nodes</li>
</ol>
<h2 id="prepare">Prepare</h2>
<p>Create account:</p>
<ol>
  <li>EdgeNet (see <a href="https://edge-net.org/using_EdgeNet.html">Using EdgeNet</a>),
  making a note of your namespace</li>
</ol>
<h2 id="get-the-file-to-deploy-the-slice">Get the File to Deploy the Slice</h2>
<p>You have two choices: get a blank file and edit it yourself, or find a customized file in your browser.</p>
<ol>
  <li>To get the blank file, get <a href="https://edge-net.org/downloads/helloWorld.yaml" download="helloWorld.yaml">helloWorld.yaml</a>.
You will need to change <username> in the last line to a nickname for yourself; please pick a good one.</username></li>
  <li>To get the file filled out with your nickname, fill out the form <a href="http://princeton.edge-net.io:5000/get_yaml">here</a> and copy it from your browser.</li>
</ol>
<h2 id="deploy-a-service-on-edgenet">Deploy a Service on EdgeNet</h2>
<p>Log in to the <a href="https://headnode.edge-net.org/">EdgeNet head node</a>
following the directions in <a href="https://edge-net.org/using_EdgeNet.html">Using EdgeNet</a>.
Once you are logged in and have chosen your namespace, you should
see this screen:</p>
<p><img src="/assets/images/createButton.png" alt="Create Button" /></p>
<p>Click the Create Button in the top right.  You should see this
screen:</p>
<p><img src="/assets/images/create.png" alt="Create" /></p>
<p>You can then “Create from Text Input” or “Create from File”.  For either, use the file you downloaded, which will look like this:</p>
<div class="language-yaml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="na">apiVersion</span><span class="pi">:</span> <span class="s">extensions/v1beta1</span>
<span class="na">kind</span><span class="pi">:</span> <span class="s">DaemonSet</span>
<span class="na">metadata</span><span class="pi">:</span>
  <span class="na">name</span><span class="pi">:</span> <span class="s">hello-world-new</span>
<span class="na">spec</span><span class="pi">:</span>
  <span class="na">template</span><span class="pi">:</span>
    <span class="na">metadata</span><span class="pi">:</span>
      <span class="na">labels</span><span class="pi">:</span>
        <span class="na">app</span><span class="pi">:</span> <span class="s">hello-world-new</span>
    <span class="na">spec</span><span class="pi">:</span>
      <span class="na">hostNetwork</span><span class="pi">:</span> <span class="no">true</span>           
      <span class="na">containers</span><span class="pi">:</span>
        <span class="pi">-</span> <span class="na">name</span><span class="pi">:</span> <span class="s">hello-world-new</span>
          <span class="na">image</span><span class="pi">:</span> <span class="s">tutum/curl</span>
          <span class="na">command</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">/bin/sh"</span><span class="pi">]</span>
          <span class="na">args</span><span class="pi">:</span> <span class="pi">[</span><span class="s2">"</span><span class="s">-c"</span><span class="pi">,</span> <span class="s2">"</span><span class="s">while</span><span class="nv"> </span><span class="s">true;</span><span class="nv"> </span><span class="s">do</span><span class="nv"> </span><span class="s">curl</span><span class="nv"> </span><span class="s">http://princeton.edge-net.io:5000/hello/$(hostname)/&lt;nickname&gt;;</span><span class="nv"> </span><span class="s">sleep</span><span class="nv"> </span><span class="s">7200;</span><span class="nv"> </span><span class="s">done"</span><span class="pi">]</span>
</code></pre></div></div>
<p>Where  <code class="highlighter-rouge">&lt;nickname&gt;</code> is the name you chose/edited into the file.</p>
<p>The line <code class="highlighter-rouge">hostNetwork:true</code> tells Kubernetes to expose the ports from
the Pod.  A <code class="highlighter-rouge">DaemonSet</code> places a Pod on every node in EdgeNet.  The name of your application is <code class="highlighter-rouge">hello-world-new</code>, and
it will use the Docker image <code class="highlighter-rouge">tutum/curl</code> (an Ubuntu OS with <code class="highlighter-rouge">curl</code> installed).  It will then execute the command
<code class="highlighter-rouge">/bin/sh -c "while true; do curl http://princeton.edge-net.io:5000/hello/$(hostname)/&lt;nickname&gt;; sleep 72000; done"</code>;
in other words, send a Hello to the server, sleep for a couple of hours, then send another (we assume you’ll take down the slice after a single Hello from each node).</p>
<h2 id="check-out-your-hellos">Check out your Hellos</h2>
<p>For a simple text presentation, talk to the server directly <a href="http://princeton.edge-net.io:5000/show_hellos">here</a>.  You can find 
a nicer graphical presentation on a
<a href="https://editor.engagelively.com/widgets/rick/merif-demo-hello-world">mapping page we’ve prepared</a>.</p>
<h2 id="suggested-future-reading">Suggested Future Reading</h2>
<p>Here are some starting points for you to further explore the
technologies used in this tutorial, and related technologies:</p>
<ol>
  <li><a href="https://edge-net.org/using_EdgeNet.html">Using EdgeNet</a></li>
  <li><a href="https://docs.docker.com/get-started/">Docker Tutorial</a></li>
  <li><a href="https://kubernetes.io/docs/tutorials/hello-minikube/">Hello, World in Kubernetes</a></li>
  <li><a href="https://kubernetes.io/docs/tutorials/hello-minikube/">Hello, Minikube</a>;</li>
  <li><a href="https://edge-net.org/hello_world.html">Full Hello, World Tutorial on EdgeNet</a>
  Minikube allows you to run Kubernetes on your local machine.</li>
</ol>
      </section>
    </div>
  </body>
</html>
